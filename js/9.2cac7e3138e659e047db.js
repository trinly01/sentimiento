webpackJsonp([9],{458:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(489),n=s(522);var o=function(t){s(520)},i=s(210)(a.a,n.a,!1,o,null,null);e.default=i.exports},489:function(t,e,s){"use strict";var a=s(211),n=s(44),o=s.n(n);e.a={mounted:function(){var t=this;this.sofs=this.$dbCon.services.sof.data,this.$dbCon.services.sof.onDataChange(function(e){t.sofs=e})},data:function(){return{sofs:[],plans:[],word:"",newPlan:{division:"",year:"",items:[]}}},methods:{search:function(t){var e=this;this.$dbCon.services.plans.find({query:{$search:t,$sort:{year:-1}}}).then(function(t){e.apps=t.data}).catch(function(){e.apps=e.$dbCon.services.plans.data})},showNewPlanForm:function(){var t=this;a.Dialog.create({title:"New Source of Fund",form:{name:{type:"text",label:"Name",model:""},description:{type:"textarea",label:"Description",model:""}},buttons:["Cancel",{label:"Save",preventClose:!0,handler:function(e,s){""===e.name||""===e.description?a.Toast.create.negative("all fields are required"):t.$dbCon.services.sof.create(e).then(function(){s(function(){a.Toast.create.positive(e.name+" successfuly added")})})}}]})},ceil:o.a.ceil,loadMore:function(){this.$forceUpdate(),this.$dbCon.services.plans.loadMoreData()},loadAll:function(){this.$dbCon.services.plans.loadAllData()},removeAll:function(){this.$dbCon.services.plans.remove(null)},patchYear:function(t){this.$dbCon.services.plans.update(t._id,{year:"2018",nested:{text:"hello"}})}}}},520:function(t,e,s){var a=s(521);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);s(449)("1759186e",a,!0)},521:function(t,e,s){(t.exports=s(448)(!1)).push([t.i,"",""])},522:function(t,e,s){"use strict";var a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{},[s("q-toolbar",{staticClass:"shadow-3",attrs:{slot:"header"},slot:"header"},[s("q-toolbar-title",[t._v("\n      SOFs list "+t._s(t.sofs.length)+"\n    ")]),t._v(" "),s("q-search",{attrs:{inverted:"",color:"none"},on:{change:function(e){t.search(t.word)}},model:{value:t.word,callback:function(e){t.word=e},expression:"word"}})],1),t._v(" "),s("div",{staticClass:"col",staticStyle:{"max-height":"calc(100vh - 100px)",overflow:"auto"}},[s("q-list",{attrs:{highlight:"","no-border":""}},t._l(t.sofs,function(e,a){return s("q-item",{key:e._id},[s("q-item-side",[t._v(t._s(a+1))]),t._v(" "),s("q-item-main",[s("q-item-tile",{attrs:{label:""}},[t._v(t._s(e.name))]),t._v(" "),s("q-item-tile",{attrs:{sublabel:""}},[t._v(t._s(e.description))])],1),t._v(" "),s("q-item-side",{attrs:{right:""}},[s("div",{staticClass:"row"},[s("q-btn",{attrs:{round:"",small:"",color:"info",icon:"edit"}}),t._v("\n            Â \n            "),s("q-btn",{attrs:{round:"",small:"",color:"negative",icon:"delete"}})],1)])],1)}))],1),t._v(" "),s("q-modal",{ref:"newPlanForm",attrs:{"content-css":{minWidth:"80vw",minHeight:"80vh"}}},[s("q-modal-layout",[s("q-toolbar",{attrs:{slot:"header"},slot:"header"},[s("div",{staticClass:"q-toolbar-title"},[t._v("\n          Procurement Plan for "+t._s(t.newPlan.name)+" - "+t._s(t.newPlan.year)+" \n        ")]),t._v(" "),s("q-chip",{attrs:{icon:"work",color:"secondary"}},[t._v("\n          newPlan.isProject ? 'Project': newPlan.division.text\n        ")])],1),t._v(" "),s("div",{staticClass:"row layout-padding"},[s("div",{staticClass:"col"}),t._v(" "),s("div",{staticClass:"col bg-green"})])],1)],1),t._v(" "),s("q-fixed-position",{attrs:{corner:"bottom-right",offset:[18,18]}},[s("q-btn",{staticClass:"animate-pop",attrs:{round:"",color:"primary",icon:"add"},on:{click:t.showNewPlanForm}})],1)],1)},staticRenderFns:[]};e.a=a}});