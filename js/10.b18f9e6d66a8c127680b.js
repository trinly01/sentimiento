webpackJsonp([10],{455:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(486),a=n(513);var s=function(e){n(511)},i=n(210)(o.a,a.a,!1,s,null,null);t.default=i.exports},486:function(e,t,n){"use strict";var o=n(211),a=n(44),s=n.n(a);t.a={mounted:function(){var e=this;this.mop=this.$dbCon.services.mop.data,this.$dbCon.services.mop.onDataChange(function(t){e.mop=t})},data:function(){return{mop:[],plans:[],word:"",newPlan:{division:"",year:"",items:[]}}},methods:{search:function(e){var t=this;this.$dbCon.services.plans.find({query:{$search:e,$sort:{year:-1}}}).then(function(e){t.apps=e.data}).catch(function(){t.apps=t.$dbCon.services.plans.data})},showNewPlanForm:function(){var e=this;o.Dialog.create({title:"New Mode of Procurement",form:{name:{type:"text",label:"Name",model:""},description:{type:"textarea",label:"Description",model:""}},buttons:["Cancel",{label:"Save",preventClose:!0,handler:function(t,n){""===t.name||""===t.description?o.Toast.create.negative("all fields are required"):e.$dbCon.services.mop.create(t).then(function(){n(function(){o.Toast.create.positive(t.name+" successfuly added")})})}}]})},ceil:s.a.ceil,loadMore:function(){this.$forceUpdate(),this.$dbCon.services.plans.loadMoreData()},loadAll:function(){this.$dbCon.services.plans.loadAllData()},removeAll:function(){this.$dbCon.services.plans.remove(null)},patchYear:function(e){this.$dbCon.services.plans.update(e._id,{year:"2018",nested:{text:"hello"}})}}}},511:function(e,t,n){var o=n(512);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n(449)("10fed11f",o,!0)},512:function(e,t,n){(e.exports=n(448)(!1)).push([e.i,"",""])},513:function(e,t,n){"use strict";var o={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{},[n("q-toolbar",{staticClass:"shadow-3",attrs:{slot:"header"},slot:"header"},[n("q-toolbar-title",[e._v("\n      MOP list "+e._s(e.mop.length)+"\n    ")]),e._v(" "),n("q-search",{attrs:{inverted:"",color:"none"},on:{change:function(t){e.search(e.word)}},model:{value:e.word,callback:function(t){e.word=t},expression:"word"}})],1),e._v(" "),n("div",{staticClass:"col",staticStyle:{"max-height":"calc(100vh - 100px)",overflow:"auto"}},[n("q-list",{attrs:{highlight:"","no-border":""}},e._l(e.mop,function(t,o){return n("q-item",{key:t._id},[n("q-item-side",[e._v(e._s(o+1))]),e._v(" "),n("q-item-main",[n("q-item-tile",{attrs:{label:""}},[e._v(e._s(t.name))]),e._v(" "),n("q-item-tile",{attrs:{sublabel:""}},[e._v(e._s(t.description))])],1),e._v(" "),n("q-item-side",{attrs:{right:""}},[n("div",{staticClass:"row"},[n("q-btn",{attrs:{round:"",small:"",color:"info",icon:"edit"}}),e._v("\n            Â \n            "),n("q-btn",{attrs:{round:"",small:"",color:"negative",icon:"delete"}})],1)])],1)}))],1),e._v(" "),n("q-fixed-position",{attrs:{corner:"bottom-right",offset:[18,18]}},[n("q-btn",{staticClass:"animate-pop",attrs:{round:"",color:"primary",icon:"add"},on:{click:e.showNewPlanForm}})],1)],1)},staticRenderFns:[]};t.a=o}});