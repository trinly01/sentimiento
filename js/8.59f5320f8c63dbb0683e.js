webpackJsonp([8],{460:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(492),n=a(534);var s=function(t){a(532)},i=a(210)(o.a,n.a,!1,s,null,null);e.default=i.exports},492:function(t,e,a){"use strict";var o=a(211),n=a(44),s=a.n(n);e.a={mounted:function(){var t=this;this.uacs=this.$dbCon.services.uacs.data,this.$dbCon.services.uacs.onDataChange(function(e){t.uacs=e})},data:function(){return{uacs:[],plans:[],word:"",newPlan:{division:"",year:"",items:[]}}},methods:{search:function(t){var e=this;this.$dbCon.services.plans.find({query:{$search:t,$sort:{year:-1}}}).then(function(t){e.apps=t.data}).catch(function(){e.apps=e.$dbCon.services.plans.data})},showNewPlanForm:function(){var t=this;o.Dialog.create({title:"New Account Code",form:{coaObjectCode:{type:"text",label:"CoA Object",model:""},subObjectCode:{type:"text",label:"Sub-Object (Optional)",model:""},name:{type:"text",label:"Name",model:""},description:{type:"textarea",label:"Description",model:""}},buttons:["Cancel",{label:"Save",preventClose:!0,handler:function(e,a){""===e.name||""===e.description||""===e.coaObjectCode||""===e.subObjectCode?o.Toast.create.negative("all fields are required"):t.$dbCon.services.uacs.create(e).then(function(){a(function(){o.Toast.create.positive(e.name+" successfuly added")})})}}]})},ceil:s.a.ceil,loadMore:function(){this.$forceUpdate(),this.$dbCon.services.plans.loadMoreData()},loadAll:function(){this.$dbCon.services.plans.loadAllData()},removeAll:function(){this.$dbCon.services.plans.remove(null)},patchYear:function(t){this.$dbCon.services.plans.update(t._id,{year:"2018",nested:{text:"hello"}})}}}},532:function(t,e,a){var o=a(533);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a(449)("287411e0",o,!0)},533:function(t,e,a){(t.exports=a(448)(!1)).push([t.i,"",""])},534:function(t,e,a){"use strict";var o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("q-toolbar",{staticClass:"shadow-3",attrs:{slot:"header"},slot:"header"},[a("q-toolbar-title",[t._v("\n      UACS list "+t._s(t.uacs.length)+"\n    ")]),t._v(" "),a("q-search",{attrs:{inverted:"",color:"none"},on:{change:function(e){t.search(t.word)}},model:{value:t.word,callback:function(e){t.word=e},expression:"word"}})],1),t._v(" "),a("div",{staticClass:"col",staticStyle:{"max-height":"calc(100vh - 100px)",overflow:"auto"}},[a("q-list",{attrs:{highlight:"","no-border":""}},t._l(t.uacs,function(e){return a("q-item",{key:e._id},[a("q-item-side",[t._v(t._s(e.coaObjectCode)+" "+t._s(e.subObjectCode))]),t._v(" "),a("q-item-main",[a("q-item-tile",{attrs:{label:""}},[t._v(t._s(e.name))]),t._v(" "),a("q-item-tile",{attrs:{sublabel:""}},[t._v(t._s(e.description))])],1),t._v(" "),a("q-item-side",{attrs:{right:""}},[a("div",{staticClass:"row"},[a("q-btn",{attrs:{round:"",small:"",color:"info",icon:"edit"}}),t._v("\n            Â \n            "),a("q-btn",{attrs:{round:"",small:"",color:"negative",icon:"delete"}})],1)])],1)}))],1),t._v(" "),a("q-modal",{ref:"newPlanForm",attrs:{"content-css":{minWidth:"80vw",minHeight:"80vh"}}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"q-toolbar-title"},[t._v("\n          Procurement Plan for "+t._s(t.newPlan.name)+" - "+t._s(t.newPlan.year)+" \n        ")]),t._v(" "),a("q-chip",{attrs:{icon:"work",color:"secondary"}},[t._v("\n          newPlan.isProject ? 'Project': newPlan.division.text\n        ")])],1),t._v(" "),a("div",{staticClass:"row layout-padding"},[a("div",{staticClass:"col"}),t._v(" "),a("div",{staticClass:"col bg-green"})])],1)],1),t._v(" "),a("q-fixed-position",{attrs:{corner:"bottom-right",offset:[18,18]}},[a("q-btn",{staticClass:"animate-pop",attrs:{round:"",color:"primary",icon:"add"},on:{click:t.showNewPlanForm}})],1)],1)},staticRenderFns:[]};e.a=o}});